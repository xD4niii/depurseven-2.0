"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1640],{17314:(e,t,i)=>{i.d(t,{Z:()=>c});var r,n,a=i(813653),o=i(861470),s=0,l=0;let c=function(e,t,i){var c=t&&i||0,d=t||Array(16),u=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:n;if(null==u||null==p){var h=e.random||(e.rng||a.Z)();null==u&&(u=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=n=(h[6]<<8|h[7])&16383)}var m=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:l+1,y=m-s+(f-l)/1e4;if(y<0&&void 0===e.clockseq&&(p=p+1&16383),(y<0||m>s)&&void 0===e.nsecs&&(f=0),f>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,l=f,n=p;var b=((268435455&(m+=122192928e5))*1e4+f)%4294967296;d[c++]=b>>>24&255,d[c++]=b>>>16&255,d[c++]=b>>>8&255,d[c++]=255&b;var g=m/4294967296*1e4&268435455;d[c++]=g>>>8&255,d[c++]=255&g,d[c++]=g>>>24&15|16,d[c++]=g>>>16&255,d[c++]=p>>>8|128,d[c++]=255&p;for(var x=0;x<6;++x)d[c+x]=u[x];return t||(0,o.Z)(d)}},615097:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepAuthDesktopPinRep_pin",selections:[{args:null,kind:"FragmentSpread",name:"PinRepWithImpressions_pin"}],type:"Pin",abstractKey:null};r.hash="000e24070b5df05da76d803775cb37e6";let n=r},148048:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};r.hash="51f44b91a29d43c6d06785fcb846b61b";let n=r},120879:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepAuthDesktopPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="7982b415980bdf92f7b9338cb5f6c539";let n=r},892236:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="630f94c5c1fff86bdd3cb70e987c1fee";let n=r},901855:(e,t,i)=>{i.d(t,{Hv:()=>l,aX:()=>u,nK:()=>p});var r=i(667294),n=i(616550),a=i(342513),o=i(785893);let{Provider:s,useHook:l}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){let i={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&c(e.forward[0].location)===c(i.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function u(){let{current:e,previous:t}=l();return(0,r.useMemo)(()=>e?t.concat(e):t,[e,t])}function p({children:e}){let t=(0,n.k6)(),i=(0,n.TH)(),a=(0,n.$B)(),l={forward:[],current:{action:t.action,location:i,match:a},previous:[]},[c,u]=(0,r.useReducer)(d,l);return(0,r.useEffect)(()=>{let{action:e}=t;u({type:e,location:i,match:a})},[i]),(0,o.jsx)(s,{value:c,children:e})}},406893:(e,t,i)=>{i.d(t,{Z:()=>a}),i(441143);var r=i(785893);class n{static factory(e){return e instanceof n?e:new n(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function a(e){let{css:t,unsafeCSS:i,...a}=e,o=String(t||"")||i||"";return o?(0,r.jsx)("style",{...a,dangerouslySetInnerHTML:{__html:String(n.factory(o))}}):null}},32346:(e,t,i)=>{i.d(t,{Z:()=>r});function r(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}},105737:(e,t,i)=>{function r(e,t,i){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(!a(e[r],t[r],i+1))return!1;return!0}function n(e,t,i){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(!(r in t)||!a(e[r],t[r],i+1))return!1;return!0}function a(e,t,i){if(i>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(t))return!1;switch(a){case"[object Array]":return r(e,t,i);case"[object Set]":return r(Array.from(e).sort(),Array.from(t).sort(),i);case"[object Object]":case"[object Arguments]":return n(e,t,i);case"[object Map]":return n(Object.fromEntries(e),Object.fromEntries(t),i);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function o(e,t){return a(e,t,0)}i.d(t,{ZP:()=>o,qP:()=>r})},541841:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(667294),n=i(973935);function a(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends r.Component{constructor(...e){super(...e),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=n.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return r.Children.only(this.props.children)}}let s=o},510989:(e,t,i)=>{i.d(t,{Z:()=>r});let r=i(103322).Z},401429:(e,t,i)=>{i.d(t,{Z:()=>f});var r=i(667294),n=i(545007),a=i(587703),o=i(25919),s=i(216167);let l=(e,t,i,r)=>(n,a)=>l=>{if(n&&n.id){let c=s.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":c.callDelete().then(()=>{l((0,o.fO)()),i&&r&&i({event_type:r,object_id_str:n.id.toString()})});break;case"completed":c.callUpdate().then(()=>{a||l((0,o.fO)()),i&&r&&i({event_type:r,object_id_str:n.id.toString()})});break;case"viewed":c.callUpdate().then(()=>{i&&r&&i({event_type:r,object_id_str:n.id.toString()})})}}},c=e=>l("UserExperienceCompletedResource","completed",e,6567),d=l("UserExperienceResource","dismissed"),u=e=>l("UserExperienceViewedResource","viewed",e,4503);var p=i(785893);function h(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m extends r.Component{constructor(...e){super(...e),h(this,"state",{hasCompleted:[],hasDismissed:[]}),h(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:i,viewExperience:r,viewExperienceObject:n}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",n(e)):i?r(e.placement_id,e.experience_id,i):r(e.placement_id,e.experience_id))}),h(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:i,experience:r,isBackendExperience:n,preventRemoval:a,targeting:o}=this.props,s=e||1;if(r&&!this.state.hasCompleted.includes(r.experience_id)){let{placement_id:e,experience_id:l}=r||{},c=a||2===s;(1===s||c)&&e&&l&&(n?i(r,c):o?t(e,l,c,o):t(e,l,c),this.setState(e=>({hasCompleted:[...e.hasCompleted,l]})))}}),h(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:r,preventRemoval:n,targeting:a}=this.props,{placement_id:o,experience_id:s}=i||{};i&&!this.state.hasDismissed.includes(s)&&(r?t(i):a?e(o,s,!!n,a):e(o,s,!!n),this.setState(e=>({hasDismissed:[...e.hasDismissed,s]})))}),h(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:i,predicate:r}=this.props,{experience_id:n,type:a}=e;return t&&t.length?t.includes(n):i&&i.length?i.includes(a):!r||r(e)})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,i=this.props.experience;i&&this.isEligibleExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):r.Children.only(e):null}}function f(e){let t=(0,n.v9)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),i=(0,n.I0)(),r=(0,o.be)(),s=(0,o.Am)(),l=(0,o.Ig)(),h=(0,a.Z)();return(0,p.jsx)(m,{...e,completeExperience:(e,t,n,a)=>i(r(e,t,n,!1,{},a)),completeExperienceObject:(e,t)=>i(c(h)(e,t)),dismissExperience:(e,t,r,n)=>i(s(e,t,r,void 0,n)),dismissExperienceObject:e=>i(d(e)),experience:t,viewExperience:(e,t,r)=>i(l(e,t,!1,!1,void 0,r)),viewExperienceObject:e=>i(u(h)(e))})}h(m,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},73006:(e,t,i)=>{i.d(t,{Z:()=>S});var r=i(667294),n=i(883119),a=i(401429),o=i(554786),s=i(785893);let l=({data:e,buttonType:t,calloutType:i})=>{let{accessibilityLabel:r,disabled:a,label:l}=e,c=(0,o.HG)(),d="transparent";"primary"===t&&(d="upsell"===i?"red":"gray");let u="md";switch(i){case"neutral":u=c?"sm":"md";break;case"upsell":u=c?"md":"sm";break;default:u="md"}return(0,s.jsx)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:1,children:"link"===e.role?(0,s.jsx)(n.ZP,{accessibilityLabel:r,color:d,disabled:a,fullWidth:!0,href:e.href,onClick:e.onClick,rel:e.rel,size:u,target:e.target,text:l}):(0,s.jsx)(n.zx,{accessibilityLabel:r,color:d,disabled:a,fullWidth:!0,onClick:e.onClick,size:u,text:l})})};var c=i(140017);function d({dismissButton:e,message:t,primaryAction:i,secondaryAction:r,title:a}){let d=(0,o.HG)(),u=i||r,p=(0,c.ZP)(),h=e&&(0,s.jsx)(n.xu,{alignSelf:"baseline",children:(0,s.jsx)(n.hU,{accessibilityLabel:e.accessibilityLabel||p.bt("Ignora richiesta", "Dismiss callout", "experiences.ExperienceCallout.CalloutNeutral.dismissLabel", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:e.onDismiss,size:"xs"})});return(0,s.jsxs)(n.xu,{borderStyle:"sm",color:"transparent",direction:"row",display:"flex",marginBottom:4,padding:4,rounding:4,children:[(0,s.jsxs)(n.kC,{direction:d?"row":"column",width:"100%",wrap:!d,children:[(0,s.jsxs)(n.kC,{flex:"grow",justifyContent:"between",minWidth:0,children:[(0,s.jsxs)(n.kC,{direction:"column",flex:"shrink",children:[a&&(0,s.jsx)(n.xu,{marginBottom:2,children:(0,s.jsx)(n.xv,{size:"400",weight:"bold",children:a})}),(0,s.jsx)(n.xv,{children:t})]}),!d&&h]}),u&&(0,s.jsxs)(n.xu,{display:"flex",flex:"none",marginStart:"auto",marginTop:d?0:2,children:[r&&(0,s.jsx)(l,{buttonType:"secondary",calloutType:"neutral",data:r}),i&&(0,s.jsx)(l,{buttonType:"primary",calloutType:"neutral",data:i})]})]}),d&&h]})}var u=i(213377),p=i(406893);let h=(u.yF+u.lX)*u.yc-u.lX,m=Array.from(Array(u.g5-u.yc).keys()).reduce((e,t)=>{let i=t+u.yc,r=(u.yF+u.lX)*i-u.lX;return e+(0,u.KN)(u.yF,i,i,`.masonry-width-wrapper {
          width: ${r}px;
          min-width: ${r}px;
          margin: 0 auto;

        }`,u.lX)},`.masonry-width-wrapper {
      width: ${h}px;
      min-width: ${h}px;
      margin: 0 auto;

  }`),f=({children:e})=>{let t=(0,o.HG)();return(0,s.jsxs)(r.Fragment,{children:[t&&(0,s.jsx)(p.Z,{unsafeCSS:m})," ",(0,s.jsx)("div",{className:"masonry-width-wrapper",children:e})]})};var y=i(696534);function b({dismissButton:e,imageData:t,message:i,primaryAction:r,secondaryAction:a,title:d}){let u;let p=t?.component&&t.component.type===n.Ee,h=(0,o.HG)(),m=(0,c.ZP)(),f=!!(r||a);"string"==typeof i&&(u=(0,s.jsx)(n.xv,{children:i}));let b=m.bt("Ignora richiesta", "Dismiss callout", "experiences.ExperienceCallout.UpsellCallout.dismissLabel", undefined, true),g=e&&(0,s.jsx)(n.xu,{alignSelf:h?"center":"baseline",children:(0,s.jsx)(n.hU,{accessibilityLabel:e.accessibilityLabel||b,icon:"cancel",iconColor:"darkGray",onClick:e.onDismiss,size:"xs"})});return(0,s.jsxs)(n.xu,{borderStyle:"shadow",color:(0,y.Yc)()&&!h?"elevationFloating":"default",direction:"row",display:"flex",maxWidth:h?900:348,minWidth:h?380:348,padding:4,position:"relative",rounding:4,children:[(0,s.jsxs)(n.kC,{direction:h?"row":"column",width:"100%",wrap:!h,children:[(0,s.jsxs)(n.kC,{alignItems:h?"center":"start",flex:"grow",justifyContent:"between",minWidth:0,children:[t&&(0,s.jsx)(n.xu,{flex:"none",marginEnd:4,width:p?Math.min(t.width||128,128):void 0,children:(0,s.jsx)(n.zd,{rounding:t.mask?.rounding||0,wash:t.mask?.wash||!1,children:t.component})}),(0,s.jsx)(n.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:"auto",marginEnd:0,marginStart:0,marginTop:"auto",smDisplay:"block",smMarginEnd:6,smMarginStart:t?6:0,children:(0,s.jsxs)(n.xu,{maxWidth:648,children:[d&&(0,s.jsx)(n.xu,{marginBottom:2,children:(0,s.jsx)(n.xv,{size:"400",weight:"bold",children:d})}),u||i]})}),!h&&g]}),f&&(0,s.jsxs)(n.xu,{display:"flex",flex:"none",marginStart:"auto",marginTop:h?0:2,children:[a&&(0,s.jsx)(l,{buttonType:"secondary",calloutType:"upsell",data:a}),r&&(0,s.jsx)(l,{buttonType:"primary",calloutType:"upsell",data:r})]})]}),h&&g]})}var g=i(703404),x=i(256683),v=i(325362),_=i(862249),w=i(983983),E=i(33767);let j=new n.Ry(w.fe),P=new n.H3([j]),k=(e,t,i)=>e&&e.url?{label:e.text,accessibilityLabel:t,href:e.url,role:"link",rel:(0,_.Z)({url:e.url})?"nofollow":"none",onClick:i}:{label:e.text,accessibilityLabel:t,onClick:i},C=(e,t)=>{let i,r;switch(e){case 2:i="pinterest";break;case 1:i="sparkle";break;case 5:i="add";break;case 7:i="angled-pin";break;case 4:i="flashlight";break;case 3:i="search";break;case 6:i="speech-ellipsis";break;case 8:i="instagram";break;case 9:i="camera";break;case 10:i="camera-roll";break;case 11:i="board";break;case 12:i="layout";break;case 13:i="hand-pointing";break;case 14:i="share";break;case 15:i="download";break;case 16:i="shopping-bag";break;case 17:i="check";break;case 18:i="alert";break;case 19:i="bell";break;case 20:i="person";break;case 21:i="flag";break;case 22:i="lightbulb";break;case 23:i="home";break;case 24:i="speech-heart";break;case 25:i="speech-outline";break;case 26:i="heart-outline";break;case 27:i="smiley-outline";break;case 28:i="face-tryon";break;case 29:i="star-outline";break;case 30:i="ads-stats";break;case 31:i="filter";break;default:i=void 0}switch(t){case 1:r="default";break;case 2:case 3:r="subtle";break;case 4:r="inverse";break;case 5:r="info";break;case 6:r="success";break;case 7:r="warning";break;case 8:r="error";break;case 9:r="recommendation";break;case 10:r="brandPrimary";break;case 11:r="light";break;case 12:r="dark";break;default:r=void 0}return i?(0,s.jsx)(n.JO,{accessibilityLabel:"",color:r,icon:i,size:32}):null},S=({experience:e,placementId:t,customFooterHeight:i})=>{let l=(0,o.HG)(),u=(0,c.ZP)(),{navFooterHeight:p}=(0,E.U)();return(0,s.jsx)(a.Z,{eligibleTypes:[27,28],experience:e,placementId:t,children:({complete:e,dismiss:t,experience:a})=>{let o=(0,x.Z)(v.Z)(a.display_data),c=u.bt("Ignora richiesta", "Dismiss callout", "experiences.ExperienceCallout.dismissLabel", undefined, true),h=o.completeButton?k(o.completeButton,c,()=>e()):void 0,m=o.dismissButton&&!o.dismissButton.hideDismissButton?k(o.dismissButton,c,()=>t()):void 0;switch(a.type){case 27:return(0,s.jsx)(f,{children:(0,s.jsx)(d,{dismissButton:{onDismiss:()=>t(),accessibilityLabel:c},message:(0,g.fL)(o.message),primaryAction:h,secondaryAction:m,title:o.title})});case 28:let y=C(o.icon,o.iconColor);return(0,s.jsx)(n.mh,{zIndex:P,children:(0,s.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{marginBottom:l?24:(i??p)+8,transition:"margin-bottom 300ms ease-in-out"}},display:"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,children:(0,s.jsx)(n.xu,{children:(0,s.jsx)(b,{dismissButton:{onDismiss:()=>t(),accessibilityLabel:c},imageData:y?{component:y}:void 0,message:(0,g.fL)(o.message),primaryAction:h,secondaryAction:m,title:o.title})})})});default:return(0,s.jsx)(r.Fragment,{})}}})}},217764:(e,t,i)=>{i.d(t,{Z:()=>x});var r=i(667294),n=i(240684),a=i(883119),o=i(140017),s=i(862249),l=i(983983),c=i(785893);let d=new a.Ry(l.fe),u=new a.H3([d]),p=new a.H3([u]),h={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:6},m={width:540,height:363},f={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:4},y={width:320,height:215},b=(0,n.ZP)({resolved:{},chunkName:()=>"app-www-video-VideoWrapper",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(93041),i.e(84452),i.e(95813)]).then(i.bind(i,131348)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return i(this.resolve(e))},resolve:()=>131348}),g=e=>{let{isMobile:t,image:i,video:r,handleDismiss:n,title:s}=e,l=(0,o.ZP)(),d=t?f:h,u=t?y:m,g=(0,c.jsx)(a.xu,{display:"flex",justifyContent:t?"start":"end",margin:d.closeButtonMargin,position:"absolute",width:u.width-2*d.modalMargin,zIndex:p,children:(0,c.jsx)(a.hU,{accessibilityLabel:l.bt("Ignora", "Dismiss", "experiences.ExperienceModalWindow.modalDismissIconButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:n,size:"sm"})}),x=i?i.imageAlt:s,v=i?i.url:r?.metadata?.thumbnail,_=i?.dominantColor?.length===3?`rgb(${i.dominantColor[0]}, ${i.dominantColor[1]}, ${i.dominantColor[2]})`:"rgb(111, 91, 77)",w=u.width/u.height,E={width:u.width,height:u.height};i&&i.width&&i.height?(w=i.width/i.height,E={width:i.width,height:i.height}):r&&r.metadata.width&&r.metadata.height&&(w=r.metadata.width/r.metadata.height,E={width:r.metadata.width,height:r.metadata.height});let j=v&&(0,c.jsx)(a.Ee,{alt:x||"",color:_,fit:"cover",naturalHeight:E.height,naturalWidth:E.width,src:v}),P=Math.trunc(u.width/w);return(0,c.jsxs)(a.xu,{bottom:!0,height:P,left:!0,overflow:"hidden",right:!0,top:!0,width:u.width,children:[g,i&&j,r&&(0,c.jsx)(b,{aspectRatio:w,captions:"",controls:!1,fallback:j,isAutoPlay:!0,loop:!0,objectFit:"cover",onPlay:()=>{},onPlayError:()=>{},playing:!0,playsInline:!0,poster:i?.url||r.metadata.thumbnail,src:r.url,volume:0})]})};function x(e){let{displayData:t,handleComplete:i,handleDismiss:n,isMobile:o}=e,{video:l,image:d,title:u,body:p,completeButton:m,dismissButton:y}=t,b=o?f:h,x=o?"center":"start",v=(0,s.Z)({url:m.url});return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(g,{handleDismiss:n,image:d,isMobile:o,title:u,video:l}),(0,c.jsxs)(a.xu,{direction:"column",display:"flex",justifyContent:"center",margin:b.gestaltModalMargin,children:[(0,c.jsx)(a.X6,{align:x,children:u}),(0,c.jsx)(a.xu,{marginBottom:4,marginTop:2,children:(0,c.jsx)(a.xv,{align:x,children:p})}),(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},display:"flex",justifyContent:o?"center":"end",margin:-1,children:[y&&!y.hideDismissButton&&(0,c.jsx)(a.xu,{fit:!0,flex:o?"grow":"none",minWidth:o?130:void 0,padding:1,children:(0,c.jsx)(a.zx,{color:"gray",fullWidth:o,onClick:n,size:"lg",text:y.text})}),m&&(0,c.jsx)(a.xu,{fit:!0,flex:o?"grow":"none",minWidth:o?130:void 0,padding:1,children:m.url?(0,c.jsx)(a.ZP,{color:"red",fullWidth:o,href:m.url,onClick:()=>i(),rel:v?"nofollow":"none",size:"lg",text:m.text}):(0,c.jsx)(a.zx,{color:"red",fullWidth:o,onClick:()=>i(),size:"lg",text:m.text})})]})]})]})}},219651:(e,t,i)=>{i.d(t,{Z:()=>P});var r=i(667294),n=i(545007),a=i(883119),o=i(401429),s=i(217764),l=i(930837),c=i(256683),d=i(325362),u=i(554786),p=i(32346),h=i(844683),m=i(140017),f=i(30378),y=i(55202),b=i(239821),g=i(785893);let x=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},v=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function _({accessibilityModalLabel:e,allowScroll:t=!1,children:i,closeOnOutsideClick:n=!0,footer:o,isOpen:s,modalWidth:l,onDismiss:c,zIndex:d}){let u=(0,m.ZP)(),_=(0,r.useRef)(!1),{setAppFocusState:w}=(0,b.I)();return((0,r.useEffect)(()=>(_.current=(0,p.Z)(()=>{}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&_.current&&(window.cancelAnimationFrame(_.current),_.current=null)}),[]),(0,r.useEffect)(()=>(s?(f.Z.pause(),w(!1)):(f.Z.resume(),w(!0)),()=>{s&&(f.Z.resume(),w(!0))}),[w,s]),(0,r.useEffect)(()=>{let e=s&&!t;return e&&x(),()=>{e&&v()}},[s,t]),s)?(0,g.jsx)(y.Z,{children:(0,g.jsx)(a.mh,{children:(0,g.jsxs)(a.xu,{"aria-label":e,position:"relative",role:"dialog",zIndex:d||h.b7,children:[(0,g.jsx)(a.iP,{accessibilityLabel:u.bt("Maschera modale popup per dispositivi mobili", "Mobile Popup Modal Mask", "mweb.experience_popup_modal.mask", undefined, true),onTap:()=>{n&&c()},tapStyle:"none",children:(0,g.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(1)})}),(0,g.jsxs)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}},overflow:"hidden",position:"fixed",rounding:4,top:!0,width:l,zIndex:new a.Ry(1),children:[i,o]})]})})}):null}var w=i(983983);let E=new a.Ry(w.fe),j=new a.H3([E]);function P(e){let t=(0,n.v9)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),i=t?.display_data?.delay_in_millis,[p,h]=(0,r.useState)(t&&!i),m=(0,u.HG)();return(0,r.useEffect)(()=>{h(t&&!t.display_data?.delay_in_millis)},[t]),(0,r.useEffect)(()=>{let e;return i&&(e=setTimeout(()=>{h(!0)},i)),()=>clearTimeout(e)},[i]),(0,g.jsx)(r.Fragment,{children:p&&(0,g.jsx)(o.Z,{eligibleTypes:[26],experience:t,placementId:e.placementId,children:({complete:e,dismiss:t,experience:{display_data:i}})=>{let r=(0,c.Z)(d.Z)(i),n=()=>{h(!1),t()},o=()=>{e(),h(!1)},{title:u,body:p,completeButton:f}=r;return u&&p&&f.text?m?(0,g.jsx)(a.mh,{zIndex:j,children:(0,g.jsx)(l.ZP,{accessibilityModalLabel:"",onDismiss:n,size:"sm",children:(0,g.jsx)(s.Z,{displayData:r,handleComplete:()=>o(),handleDismiss:n,isMobile:!1})})}):(0,g.jsx)(_,{accessibilityModalLabel:r?.title,isOpen:!0,modalWidth:320,onDismiss:n,children:(0,g.jsx)(s.Z,{displayData:r,handleComplete:()=>o(),handleDismiss:n,isMobile:!0})}):null}})})}},25919:(e,t,i)=>{let r;i.d(t,{Am:()=>b,Ig:()=>f,N:()=>_,Sd:()=>g,YX:()=>v,be:()=>y,fO:()=>p,kd:()=>x,pz:()=>h});var n=i(667294),a=i(216167),o=i(587703),s=i(703404),l=i(957753),c=i(372085),d=i(953565);let u=(e,t,i={})=>(0,d.nP)(`${e}.${t}`,{sampleRate:1,tags:i}),p=(e,t)=>i=>a.Z.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet().then(e=>e.resource_response?i((0,l.OD)(e.resource_response.data)):void 0),h=(e,t,i,n)=>(o,c)=>{if(t)return Promise.resolve();if(n&&(r=n),1===e.length){let t=e[0],r=c().experiences[t];if(JSON.stringify(r?.extraContext||null)===JSON.stringify(i)||(0,s.E3)(r)&&!(i&&Object.keys(i).length>0))return Promise.resolve()}return a.Z.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:n}).callGet().then(e=>e.resource_response?o((0,l.cL)(e.resource_response.data)):void 0)},m=(e,t,i,n)=>(o,s,c,d=!1,u,h)=>(m,f)=>{let{experiences:y,experiencesMulti:b}=f(),g=null,x=!0;if(d||(g=(x=y[o]&&y[o].experience_id===s)?y[o]:Array.isArray(b[o])&&b[o]?.find(e=>e.experience_id===s)),g&&g.experience_id===s||d&&o&&s){let d=a.Z.create(e,{placed_experience_id:`${o}%3A${s}`,extra_context:u??{},targeting:h}),f=x?l.Yb:l.xW;switch(t){case"dismissed":return d.callDelete().then(()=>{m(f(o,s,t)),m(p(void 0,r)),i&&n&&i({event_type:n,object_id_str:s.toString()})});case"completed":return d.callUpdate().then(()=>{!c&&(m(f(o,s,t)),m(p(void 0,r)),i&&n&&i({event_type:n,object_id_str:s.toString()}))});case"viewed":return m(f(o,s,t)),d.callUpdate().then(()=>{1000162===o&&m(p()),i&&n&&i({event_type:n,object_id_str:s.toString()})});case"completedWithoutHomefeed":return d.callUpdate().then(()=>{c||m(f(o,s,t)),i&&n&&i({event_type:n,object_id_str:s.toString()})})}}return Promise.resolve()},f=()=>{let e=(0,o.Z)();return(0,n.useCallback)(m("UserExperienceViewedResource","viewed",e,4503),[e])},y=()=>{let e=(0,o.Z)();return(0,n.useCallback)(m("UserExperienceCompletedResource","completed",e,6567),[e])},b=()=>{let e=(0,o.Z)();return(0,n.useCallback)(m("UserExperienceResource","dismissed",e,6568),[e])},g=()=>{let e=(0,o.Z)();return(0,n.useCallback)(m("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},x=(e,t)=>(i,r)=>{let{experiences:n}=r(),a=n[e];a&&a.triggerable_placed_exps&&a.triggerable_placed_exps.length&&a.triggerable_placed_exps.forEach(i=>{let[,r]=i.split(":"),n=t;a.metadata&&a.metadata[r]&&(n={...t,...a.metadata[r]}),(0,c.Z)({url:`/v3/experiences/${i.replace(":","%3A")}/trigger/`,method:"PUT",data:n?{extra_context:JSON.stringify(n,null,1)}:{}}).then(()=>{u("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:r})})})},v=e=>(t,i)=>{t(x(e));let{experiences:r}=i();return r[e]},_=(e,t,i)=>n=>{i&&(r=i),n(x(e,t)),t&&Object.keys(t).length>0&&n(h([e],!1,t,i))}},703404:(e,t,i)=>{i.d(t,{A0:()=>l,E3:()=>o,MQ:()=>s,fL:()=>c});var r=i(883119),n=i(862249),a=i(785893);function o(e){return!!e&&0!==e.type}let s=(e,t,i)=>{let r=e[i];return t[i]&&o(r)?r:null};function l(e){return e.display_data?.anchor}let c=e=>{let t=new DOMParser().parseFromString(e,"text/html"),i=[...t.body?.childNodes||[]].map(e=>{if("A"!==e.nodeName)return(0,a.jsx)(r.xv,{inline:!0,children:e.textContent});{let t=e.href||"",i=(0,n.Z)({url:t});return(0,a.jsx)(r.rU,{display:"inline",externalLinkIcon:i?"default":"none",href:t,rel:i?"nofollow":"none",target:"blank",children:e.textContent})}});return(0,a.jsx)(r.xv,{inline:!0,children:i})}},26616:(e,t,i)=>{i.d(t,{$S:()=>r,V$:()=>n,_4:()=>o,iY:()=>s,mR:()=>a});let r="REFRESH_ALL_EXPERIENCES_MULTI",n="UPDATE_EXPERIENCE_MULTI",a="FETCH_EXPERIENCES",o="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957753:(e,t,i)=>{i.d(t,{NW:()=>s,OD:()=>c,Yb:()=>l,cL:()=>d,xW:()=>o});var r=i(216167),n=i(26616);let a=e=>({type:n.$S,payload:{experiencesMulti:e}}),o=(e,t,i)=>({type:n.V$,payload:{placementId:e,experienceId:t,status:i}}),s=e=>t=>r.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t(a(e.resource_response.data)):void 0),l=(e,t,i)=>({type:n.iY,payload:{placementId:e,experienceId:t,status:i}}),c=e=>({type:n._4,payload:{experiences:e}}),d=e=>({type:n.mR,payload:{experiences:e}})},839391:(e,t,i)=>{i.d(t,{L:()=>r,Z:()=>a});let{Provider:r,useHook:n}=(0,i(342513).Z)("ExperienceContext"),a=n},59545:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(667294);function n(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends r.Component{constructor(...e){super(...e),n(this,"ref",(0,r.createRef)()),n(this,"observer",null),n(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let o=a},422210:(e,t,i)=>{i.d(t,{Z:()=>r});function r(e){if(!e)return!1;let t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}},201417:(e,t,i)=>{i.d(t,{Z:()=>r});function r(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}},588664:(e,t,i)=>{i.d(t,{Z:()=>r});function r(e,t,i=28){let n;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;n=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let a=new Date,o=n?new Date(n):a;return o.setDate(o.getDate()+i),new Date().getTime()<o.getTime()}},317540:(e,t,i)=>{i.d(t,{Z:()=>r});let r={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},483085:(e,t,i)=>{i.d(t,{Z:()=>function e(t,i=!1){return n=>{if(!(0,r.Z)(n))return i&&Array.isArray(n)?n.map(e(t,i)):n;let a={};return Object.keys(n).forEach(o=>{let s=t(n[o],o);(0,r.Z)(n[o])||i&&Array.isArray(n[o])?a[s]=e(t,i)(n[o]):a[s]=n[o]}),a}}});var r=i(201417)},256683:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(483085);function n(e,t=!1){let i=(t,i)=>e(i);return e=>(0,r.Z)(i,t)(e)}},340523:(e,t,i)=>{i.d(t,{F:()=>n,a:()=>r});let{Provider:r,useHook:n}=(0,i(342513).Z)("ExperimentContext")},14583:(e,t,i)=>{i.d(t,{Z:()=>l});var r=i(667294),n=i(340523),a=i(908734),o=i(785893);function s({children:e,fallback:t}){return(0,o.jsx)(r.Suspense,{fallback:t||null,children:e})}function l({children:e,fallback:t}){let{checkExperiment:i}=(0,n.F)();return i("web_throw_error_on_client_only_suspense").anyEnabled?(0,o.jsx)(r.Suspense,{fallback:t,children:(0,o.jsx)(a.Z,{children:e})}):(0,o.jsx)(s,{fallback:t,children:e})}},55202:(e,t,i)=>{i.d(t,{U:()=>o,Z:()=>s});var r=i(317540),n=i(785893);let a=()=>{},o=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:i,allowScroll:s,children:l}){let c=e=>{t&&e.keyCode===r.Z.ESCAPE||o(e)};return(0,n.jsx)("div",{onAbort:o,onAnimationEnd:o,onAnimationIteration:o,onAnimationStart:o,onBlur:a,onCanPlay:i?a:o,onCanPlayThrough:o,onChange:o,onClick:e?a:o,onCompositionEnd:o,onCompositionStart:o,onCompositionUpdate:o,onContextMenu:o,onCopy:o,onCut:o,onDoubleClick:o,onDurationChange:o,onEmptied:o,onEncrypted:o,onEnded:o,onError:o,onFocus:a,onInput:o,onInvalid:o,onKeyDown:c,onKeyPress:c,onKeyUp:c,onLoad:o,onLoadedData:o,onLoadedMetadata:o,onLoadStart:o,onMouseDown:o,onMouseEnter:o,onMouseLeave:o,onMouseMove:e?a:o,onMouseOut:o,onMouseOver:o,onMouseUp:e?a:o,onPaste:o,onPause:o,onPlay:o,onPlaying:o,onProgress:o,onRateChange:o,onScroll:s?a:o,onSeeked:o,onSeeking:o,onSelect:o,onStalled:o,onSubmit:o,onSuspend:o,onTimeUpdate:o,onTouchCancel:o,onTouchEnd:e?a:o,onTouchMove:e?a:o,onTouchStart:e?a:o,onTransitionEnd:o,onVolumeChange:o,onWaiting:o,onWheel:o,children:l})}},325362:(e,t,i)=>{i.d(t,{Z:()=>r});function r(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}},627408:(e,t,i)=>{i.d(t,{Z:()=>v});var r=i(667294),n=i(883119),a=i(541841),o=i(901855),s=i(59545),l=i(340523),c=i(5859),d=i(520893),u=i(503325);let{Provider:p,useMaybeHook:h}=(0,i(342513).Z)("timeSpentContext");var m=i(28449),f=i(19447),y=i(785893);function b(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class g extends r.Component{constructor(e){super(e),b(this,"componentWillUnmount",()=>{this.unregisterComponent()}),b(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:i,objectId:r,timeSpentContext:n,view:a,viewParameter:o}=this.props;return{view:a||n?.view,viewParameter:o||n?.viewParameter,component:t||n?.component,element:i,objectId:r||n?.objectId,clientTrackingParams:e||n?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),b(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),b(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),b(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),b(this,"getTimedPair",()=>this.state.timedPair),b(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),b(this,"isRegistered",!1),b(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),b(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),b(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:i,left:r,right:n,top:a}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===i&&0===r&&0===n&&0===a?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new u.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,d.Z)(e.auxData,this.props.auxData)&&(0,d.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverExpEnabled:t}=this.props;return t?(0,y.jsx)(p,{value:this.getContext(),children:(0,y.jsx)(s.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:t=>(0,y.jsx)(n.xu,{ref:t,children:r.Children.only(e)})})}):(0,y.jsx)(p,{value:this.getContext(),children:(0,y.jsx)(a.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:r.Children.only(e)})})}}function x(e){let t=(0,o.Hv)(),i=h(),n=(0,m.Z)(),a=(0,f.H0)(),{requestIdentifier:s="",isAuthenticated:d}=(0,c.B)(),u={app_instance_id:s.slice(0,8),...e.auxData??{}},{checkExperiment:p}=(0,l.F)(),b=p(d?"web_intersection_observer_migration_auth":"web_intersection_observer_migration_unauth").anyEnabled;return(0,r.useEffect)(()=>{n?.setHistoryStackContext(t)},[t,n]),(0,r.useEffect)(()=>{n?.setPins(a??{})},[a,n]),n?(0,y.jsx)(g,{...e,auxData:u,intersectionObserverExpEnabled:b,timeSpentContext:i,timeSpentManager:n,children:e.children}):e.children}x.displayName="TimeSpent";let v=x},503325:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(172045),n=i(17314);function a(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let o="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),s=class{constructor(e){a(this,"start",()=>(this.startTime=o(),this.startTime)),a(this,"end",()=>(this.endTime=o(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,r.Z)()}catch(e){this.uuid=(0,n.Z)()}e&&Object.assign(this,e)}}},28449:(e,t,i)=>{i.d(t,{$:()=>r,Z:()=>a});let{Provider:r,useMaybeHook:n}=(0,i(342513).Z)("TimeSpentManagerContext"),a=n},494125:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(667294);let n=e=>{(0,r.useEffect)(e,[])}},149722:(e,t,i)=>{i.d(t,{$:()=>r,Z:()=>a});let{Provider:r,useHook:n}=(0,i(342513).Z)("viewer"),a=n},239821:(e,t,i)=>{i.d(t,{g:()=>p,I:()=>u});var r=i(667294),n=i(342513),a=i(705895),o=i(259866);let s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:r,isPromoted:n,currentTime:a}=i,{videosAutoplaying:s}=e,{currentlyPlayingOrganicVideoId:l,promotedVideosAutoplaying:c,organicVideosAutoplaying:d}=s,u=(0,o.Z)(c),p=(0,o.Z)(d);return!n&&l?e:(n?u[r]={pinId:r,currentTime:a,paused:!1}:p[r]={pinId:r,currentTime:a,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:n?l:r,promotedVideosAutoplaying:u,organicVideosAutoplaying:p}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:r,isPromoted:n,currentTime:a}=i,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:c}=s,d=(0,o.Z)(l),u=(0,o.Z)(c);return n?d[r]={...d[r],paused:!0,currentTime:a}:u[r]={...u[r],paused:!0,currentTime:a},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var c=i(785893);let{Provider:d,useHook:u}=(0,n.Z)("AppUI");function p({children:e}){let[t,i]=(0,r.useReducer)(l,s),n=(0,r.useCallback)(e=>i({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),o=(0,r.useCallback)(e=>i({type:"SET_APP_FOCUS_STATE",payload:e}),[]),u=(0,r.useCallback)(e=>i({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,r.useCallback)(e=>i({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),h=(0,r.useCallback)(e=>i({type:"SET_IS_AUTOPLAY",payload:e}),[]),m=(0,r.useCallback)(e=>i({type:"SET_VIEWPORT_SIZE",payload:e}),[]),f=(0,r.useCallback)(e=>i({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),y=(0,r.useMemo)(()=>({pauseAutoplay:n,setCurrentVideo:u,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:m,toggleTypeaheadOverlay:f,setAppFocusState:o,appUI:t}),[n,u,p,h,m,f,o,t]);return(0,r.useEffect)(()=>{a.Z.onSessionResume(()=>{o(!0)}).onSessionPause(()=>{o(!1)})},[o]),(0,c.jsx)(d,{value:y,children:e})}},33767:(e,t,i)=>{i.d(t,{U:()=>u,m:()=>p});var r=i(667294),n=i(545007),a=i(342513),o=i(422210),s=i(588664),l=i(149722),c=i(785893);let{Provider:d,useHook:u}=(0,a.Z)("NavFooterContext");function p({children:e}){let[t,i]=(0,r.useState)(),[a,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)(0),[m,f]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[g,x]=(0,r.useState)(!1),[v,_]=(0,r.useState)(!1),w=(0,s.Z)(null,(0,l.Z)()),E=(0,n.v9)(e=>e.session.isAuthenticated),j=(0,n.v9)(e=>E?e.users[e.session.userId]:void 0),P=(0,o.Z)(j?.created_at);return(0,c.jsx)(d,{value:{forceShowNavFooter:g,homeFlyoutText:t,isNavFooterHiddenAfterScroll:a,isNavFooterHiddenByPinActionBar:v,navFooterHeight:a?0:E&&(w||P)?64:52,numUnauthSavedPins:p,setForceShowNavFooter:x,setHomeFlyoutText:i,setIsNavFooterHiddenAfterScroll:u,setIsNavFooterHiddenByPinActionBar:_,setNumUnauthSavedPins:h,setShowHomeBadge:f,setShowHomeFlyoutWithButton:b,showHomeBadge:m,showHomeFlyoutWithButton:y},children:e})}},528846:(e,t,i)=>{i.d(t,{F4:()=>b,ZP:()=>k,hW:()=>y,jz:()=>g,q:()=>f,rX:()=>C}),i(167912);var r,n,a,o,s=i(240684),l=i(674410),c=i(554786),d=i(149722),u=i(19447),p=i(118923),h=i(832853),m=i(785893);let f=(0,s.ZP)({resolved:{},chunkName:()=>"AuthDesktopPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(97270),i.e(8895),i.e(57211),i.e(2984)]).then(i.bind(i,912849)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return i(this.resolve(e))},resolve:()=>912849}),y=(0,s.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(97270),i.e(39921)]).then(i.bind(i,499538)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return i(this.resolve(e))},resolve:()=>499538}),b=(0,h.Z)(()=>Promise.all([i.e(97270),i.e(8895),i.e(57211),i.e(2984)]).then(i.bind(i,912849)),void 0,"AuthDesktopPinRep"),g=(0,h.Z)(()=>Promise.all([i.e(97270),i.e(39921)]).then(i.bind(i,499538)),void 0,"DefaultPinRep"),x=void 0!==r?r:r=i(892236),v=void 0!==n?n:n=i(120879),_=void 0!==a?a:a=i(615097),w=e=>{let t=(0,p.b)(),{pinKey:i,...r}=e,n=(0,l.Z)(_,i);return t?(0,m.jsx)(b,{...r,pinKey:n}):(0,m.jsx)(f,{...r,pinKey:n})},E=e=>{let t=(0,p.b)(),{pinId:i,pin:r,...n}=e,a=(0,u.S6)(),o=(i?a(i):null)||r;return t?(0,m.jsx)(b,{...n,pinKey:{type:"deprecated",data:o}}):(0,m.jsx)(f,{...n,pinKey:{type:"deprecated",data:o}})},j=void 0!==o?o:o=i(148048),P=e=>{let{pinKey:t,...i}=e,r=(0,p.b)(),n=(0,l.Z)(j,e.pinKey);return r?(0,m.jsx)(g,{...i,duploQueryRef:n}):(0,m.jsx)(y,{...i,duploQueryRef:n})};function k(e){let t=(0,c.HG)(),i=(0,d.Z)(),r=i&&i.isAuth&&t,n=(0,l.Z)(x,e.duploQueryRef);if(r&&!e.duploQueryRef){let{disableReaction:t,disableRounding:i,disableAppUpsell:r,duploDedupeVisualAnnotations:n,duploDisablePinCardPadding:a,duploFeedItemProps:o,duploIsSquarePin:s,duploLazyLoadImage:l,duploOneTapSave:c,duploPinCardDetailsMargin:d,duploPriorityFetchImage:u,duploQueryRef:p,duploShouldAddNiiSearchParamToImageUrls:h,duploShouldAllowProductPriceIndicator:f,duploConversationPin:y,topLevelTrafficSource:b,topLevelTrafficSourceDepth:g,trafficSource:x,...v}=e;return(0,m.jsx)(E,{...v})}let{attributionOption:a,blockClickEvents:o,borderStyle:s,disableHover:u,imageHeightModifier:p,imageOnlyOption:h,onError:f,onLoad:y,pin:b,pinImageCrop:g,pinImageFit:v,resolution:_,rounding:w,saveButtonOptions:j,authDesktopSelectionState:k,authDesktopSurface:C,pinOwner:S,duploQueryRef:A,...Z}=e;return(0,m.jsx)(P,{...Z,pinKey:n})}function C(e){let t=(0,c.HG)(),i=(0,d.Z)(),r=i&&i.isAuth&&t,n=(0,l.Z)(x,e.duploQueryRef),a=(0,l.Z)(v,e.pinKey);if(r&&!e.duploQueryRef&&null!=a&&null!=e.pinKey){let{disableReaction:t,disableRounding:i,disableAppUpsell:r,duploDedupeVisualAnnotations:n,duploDisablePinCardPadding:o,duploFeedItemProps:s,duploIsSquarePin:l,duploLazyLoadImage:c,duploOneTapSave:d,duploPinCardDetailsMargin:u,duploPriorityFetchImage:p,duploQueryRef:h,duploShouldAddNiiSearchParamToImageUrls:f,duploShouldAllowProductPriceIndicator:y,duploConversationPin:b,topLevelTrafficSource:g,topLevelTrafficSourceDepth:x,trafficSource:v,pinKey:_,...E}=e,{pin:j,pinId:P,...k}=E;return(0,m.jsx)(w,{...k,pinKey:a})}let{attributionOption:o,blockClickEvents:s,borderStyle:u,disableHover:p,imageHeightModifier:h,imageOnlyOption:f,onError:y,onLoad:b,pin:g,pinImageCrop:_,pinImageFit:E,resolution:j,rounding:k,saveButtonOptions:C,authDesktopSelectionState:S,authDesktopSurface:A,pinOwner:Z,duploQueryRef:T,...D}=e;return(0,m.jsx)(P,{...D,pinKey:n})}},706196:(e,t,i)=>{function r(e){let[t,i]=e.split(/\/(.*)+/);return{filepath:i,site:t}}function n(e,t){return t?`${e||""}/${t}`:`/${e||""}`}i.d(t,{ac:()=>r,ke:()=>n})},908734:(e,t,i)=>{i.d(t,{Z:()=>a,d:()=>n});let r="HIDDEN_ON_SERVER_ERROR",n=e=>e instanceof Object&&"message"in e&&e.message===r;function a({children:e}){if("undefined"==typeof window)throw Error(r);return e}},118923:(e,t,i)=>{i.d(t,{P:()=>o,b:()=>s});var r=i(340523),n=i(5859),a=i(528252);function o({checkExperiment:e,isAuthenticated:t,isEarlyHydrationEnabled:i}){return i||!!e&&e(t?"web_auth_lazy_component":"web_unauth_lazy_component").anyEnabled}function s(){let{checkExperiment:e}=(0,r.F)(),{isAuthenticated:t}=(0,n.B)();return o({checkExperiment:e,isAuthenticated:t,isEarlyHydrationEnabled:(0,a.z5)()})}},832853:(e,t,i)=>{i.d(t,{Z:()=>l});var r=i(667294),n=i(14583);let{Provider:a,useMaybeHook:o}=(0,i(342513).Z)("LazyComponent");var s=i(785893);function l(e,t,i){let a,l,c;let d=t?.ssr??!0?r.Suspense:n.Z,u=i=>{o(),t?.dynamicRequestKey,l||(l=(0,r.lazy)(()=>e(i)));let n=(0,r.useRef)(a??l).current;return(0,s.jsx)(d,{fallback:i.fallback||t?.fallback,children:(0,s.jsx)(n,{...i})})};function p(t){return c||(c=(async()=>a=(await e(t)).default)()),c}return u.preload=e=>{p(e)},u.load=e=>p(e),u}},528252:(e,t,i)=>{i.d(t,{DB:()=>c,SS:()=>s,WP:()=>a,z5:()=>l});var r=i(667294),n=i(706196);let a=(0,r.createContext)({anyEnabled:!1,group:""}),o={anyEnabled:!1,group:""};function s({experimentsClient:e,isAuthenticated:t,handlerId:i}){let{site:r}=(0,n.ac)(i??"");return"www"!==r?o:e?.checkExperiment(t?"web_early_hydration_auth":"web_early_hydration_unauth")??o}function l(){return(0,r.useContext)(a).anyEnabled}function c(){return(0,r.useContext)(a)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/1640.it-12ee3fc27b804e0c.mjs.map